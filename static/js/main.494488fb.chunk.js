(this["webpackJsonpsearch-application"]=this["webpackJsonpsearch-application"]||[]).push([[0],{53:function(t,e,n){},54:function(t,e,n){},62:function(t,e,n){"use strict";n.r(e);var s=n(0),a=n.n(s),c=n(31),r=n.n(c),i=(n(53),n(54),n(25)),o=n.n(i),l=n(32),h=n(15),u=n(16),d=n(17),p=n(22),j=n(21),x=n(65);var m=n(2),b=function(t){Object(p.a)(n,t);var e=Object(j.a)(n);function n(t,s){var a;return Object(h.a)(this,n),(a=e.call(this,t,s)).getHighlightedString=function(t,e){var n=t.toLowerCase().indexOf(a.props.searchText.toLowerCase()),s=t.substring(0,n),c=t.substring(n,n+a.props.searchText.length),r=t.substring(n+a.props.searchText.length);return Object(m.jsx)("li",{style:a.props.currentPosition===e?{backgroundColor:"#c1bebe",cursor:"pointer"}:{cursor:"pointer"},onClick:function(){a.props.setSelectedItemIndex(e)},children:-1!==n?Object(m.jsxs)(m.Fragment,{children:[s,Object(m.jsx)("font",{style:{color:"red"},children:c}),r]}):t})},a.state={},a}return Object(u.a)(n,[{key:"render",value:function(){var t=this;return Object(m.jsxs)("div",{className:"search-element",children:[Object(m.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginRight:80},children:[Object(m.jsx)("input",{onFocus:function(){return t.props.setListOpen(!0)},className:"search-input",value:this.props.searchText,onChange:this.props.onSearchTextChange,type:"text",placeholder:"Search.."}),this.props.total>0?Object(m.jsx)("span",{className:"total-count",children:this.props.total}):null]}),this.props.total>0&&this.props.isOpen?Object(m.jsx)("ul",{className:"search-result",children:this.props.data.map((function(e,n){return t.getHighlightedString(e,n)}))}):null]})}}]),n}(s.Component),O=x.a.Content,f=function(t){Object(p.a)(n,t);var e=Object(j.a)(n);function n(t,s){var a;return Object(h.a)(this,n),(a=e.call(this,t,s)).onKeyPress=function(t){38===t.keyCode?a.state.total>0&&a.state.currentPosition-1>-1&&a.setState({currentPosition:a.state.currentPosition-1}):40===t.keyCode?a.state.total>0&&a.state.currentPosition+1<a.state.total&&a.setState({currentPosition:a.state.currentPosition+1}):13===t.keyCode&&a.state.currentPosition>-1&&a.setState({selectedItemIndex:a.state.currentPosition,isOpen:!1})},a.fetchData=Object(l.a)(o.a.mark((function t(){var e,n,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!a.state.searchText){t.next=10;break}return e="https://swapi.dev/api/people/?search=".concat(a.state.searchText),t.next=5,fetch(e);case 5:return n=t.sent,t.next=8,n.json();case 8:(s=t.sent)&&a.setState({total:s.count,data:s.results.map((function(t){return t.name})),isOpen:!0});case 10:t.next=14;break;case 12:t.prev=12,t.t0=t.catch(0);case 14:case"end":return t.stop()}}),t,null,[[0,12]])}))),a.onSearchTextChange=function(t){t.target.value||a.setState({data:[],total:0}),a.setState({searchText:t.target.value},a.fetchData)},a.setListOpen=function(t){a.setState({isOpen:t})},a.setSelectedItemIndex=function(t){a.setState({selectedItemIndex:t,isOpen:!1})},a.state={currentPosition:-1,isOpen:!1,total:0},a.fetchData=function(t,e){var n=null;return function(){var s=this,a=arguments;clearTimeout(n),n=setTimeout((function(){t.apply(s,a)}),e)}}(a.fetchData.bind(Object(d.a)(a)),500),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyPress)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyPress)}},{key:"render",value:function(){return Object(m.jsxs)(x.a,{className:"layout",children:[Object(m.jsxs)("div",{class:"topnav",children:[Object(m.jsx)("a",{class:"active",href:"",children:"Home"}),Object(m.jsx)(b,{data:this.state.data,setSelectedItemIndex:this.setSelectedItemIndex,selectedItemIndex:this.state.selectedItemIndex,total:this.state.total,currentPosition:this.state.currentPosition,isOpen:this.state.isOpen,setListOpen:this.setListOpen,searchText:this.state.searchText,onSearchTextChange:this.onSearchTextChange})]}),this.state.selectedItemIndex>-1?Object(m.jsx)(O,{className:"content",children:Object(m.jsxs)("div",{children:["Selected Item is ",this.state.data[this.state.selectedItemIndex]]})}):null]})}}]),n}(s.Component),v=n(45),g=n(3);var I=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(v.a,{basename:"/search-application",children:Object(m.jsx)("div",{children:Object(m.jsxs)(g.c,{children:[Object(m.jsx)(g.a,{exact:!0,path:"/",component:f}),"="]})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var y=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,66)).then((function(e){var n=e.getCLS,s=e.getFID,a=e.getFCP,c=e.getLCP,r=e.getTTFB;n(t),s(t),a(t),c(t),r(t)}))};r.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(I,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)})),y()}},[[62,1,2]]]);
//# sourceMappingURL=main.494488fb.chunk.js.map